<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PaintUp</title>
<style>
:root{
  --bg:#e0e5ec; --card:#f0f3f7;
  --shadow-light:rgba(255,255,255,0.7); --shadow-dark:rgba(0,0,0,0.15);
  --text:#333; --accent:#4a90e2; --border:#d1d9e6;
}
[data-theme="dark"]{
  --bg:#1f2025; --card:#2c2d33;
  --shadow-light:rgba(255,255,255,0.1); --shadow-dark:rgba(0,0,0,0.7);
  --text:#e0e0e0; --accent:#4a90e2; --border:#444;
}
*{box-sizing:border-box;font-family:'Segoe UI',Tahoma,sans-serif;margin:0;padding:0;}
body{background: var(--bg); color: var(--text); display:flex; justify-content:center; align-items:center; min-height:100vh; padding:15px; transition:0.3s;}
.card{background: var(--card); border-radius:25px; padding:30px 25px; max-width:800px; width:100%; box-shadow:8px 8px 20px var(--shadow-dark), -8px -8px 20px var(--shadow-light); position:relative; transition:all 0.3s; border:2px solid var(--border);}
h1{text-align:center; margin-bottom:20px; font-size:2em; color: var(--accent);}
.switch{position:absolute; top:20px; right:20px; display:inline-block; width:60px; height:34px;}
.switch input{opacity:0;width:0;height:0;}
.slider{position:absolute; cursor:pointer; top:0;left:0;right:0;bottom:0; background:#ccc; border-radius:34px; transition:0.4s; box-shadow:4px 4px 8px var(--shadow-dark), -4px -4px 8px var(--shadow-light);}
.slider:before{position:absolute; content:"‚òÄÔ∏è"; display:flex; justify-content:center; align-items:center; font-size:16px; height:26px; width:26px; left:4px; bottom:4px; background:white; border-radius:50%; transition:0.4s; box-shadow:2px 2px 5px rgba(0,0,0,0.3);}
input:checked + .slider{background:var(--accent);}
input:checked + .slider:before{transform:translateX(26px); content:"üåô";}

.room-card{background: var(--card); border-radius:20px; padding:15px; display:flex; gap:15px; flex-wrap:wrap; margin-bottom:15px; box-shadow: 4px 4px 10px var(--shadow-dark), -4px -4px 10px var(--shadow-light); position:relative;}
.room-card input, .room-card select{flex:1 1 150px; padding:10px; border:none; outline:none; border-radius:12px; background:var(--card); color: var(--text); box-shadow: inset 2px 2px 5px var(--shadow-dark), inset -2px -2px 5px var(--shadow-light);}
.room-card .delete-btn{position:absolute; top:5px; right:5px; background:var(--card); border:none; border-radius:50%; padding:5px 8px; cursor:pointer; box-shadow: 2px 2px 6px var(--shadow-dark), -2px -2px 6px var(--shadow-light); font-weight:bold; color:red; transition:0.2s;}
.room-card .delete-btn:hover{box-shadow: inset 2px 2px 4px var(--shadow-dark), inset -2px -2px 4px var(--shadow-light);}
.roomTotal, .roomLiters{width:100%; text-align:right; font-weight:bold; margin-top:5px;}
.input-group{display:flex; flex-wrap:wrap; gap:15px; margin-bottom:20px;}
.input-label{flex:1 1 100%; font-weight:bold;}
button.main-btn{padding:12px; border-radius:25px; border:none; background: var(--card); box-shadow: 4px 4px 10px var(--shadow-dark), -4px -4px 10px var(--shadow-light); cursor:pointer; font-size:16px; flex:1 1 140px; transition:all 0.3s;}
button.main-btn:hover{box-shadow: inset 2px 2px 5px var(--shadow-dark), inset -2px -2px 5px var(--shadow-light);}
.result{margin-top:20px; font-weight:bold; font-size:16px; word-wrap:break-word;}
footer{margin-top:10px; font-size:12px; text-align:center; color:var(--accent);}
@media(max-width:600px){.room-card input, .room-card select{flex:1 1 100%;} button.main-btn{flex:1 1 100%;}}
</style>
</head>
<body data-theme="light">
<div class="card">
  <label class="switch">
    <input type="checkbox" id="themeToggle" name="darkModeToggle">
    <span class="slider"></span>
  </label>
  <h1 id="appTitle">PaintUp</h1>

  <div class="input-group">
    <label class="input-label" for="language">Language:</label>
    <select id="language" name="appLanguage">
      <option value="en">English</option>
      <option value="es">Espa√±ol</option>
      <option value="fr">Fran√ßais</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
      <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
      <option value="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</option>
      <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
      <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
      <option value="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</option>
      <option value="pa">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä</option>
      <option value="as">‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ</option>
    </select>

    <label class="input-label" for="currency">Currency:</label>
    <select id="currency" name="currencyType">
      <option value="‚Çπ">INR (‚Çπ)</option>
      <option value="$">USD ($)</option>
      <option value="‚Ç¨">EUR (‚Ç¨)</option>
    </select>

    <label class="input-label" for="unit">Unit:</label>
    <select id="unit" name="areaUnit">
      <option value="sq.ft">sq.ft</option>
      <option value="m¬≤">m¬≤</option>
    </select>
  </div>

  <div id="roomsContainer">
    <div class="room-card">
      <button class="delete-btn" onclick="deleteRoom(this)" name="deleteRoomBtn">Delete</button>

      <label class="input-label" for="roomArea">Area:</label>
      <input type="number" name="roomArea" class="area" step="0.01" min="0">

      <label class="input-label" for="roomDiscount">Discount (%):</label>
      <input type="number" name="roomDiscount" class="discount" value="0" step="0.01" min="0" max="100">

      <label class="input-label" for="roomPaintType">Paint Type:</label>
      <select name="roomPaintType" class="paintTypeRoom">
        <option value="50">Standard</option>
        <option value="80">Premium</option>
        <option value="120">Luxury</option>
      </select>

      <span class="roomLiters" name="roomLiters">Liters Needed: 0</span>
      <span class="roomTotal" name="roomTotal">Room Cost: 0</span>
    </div>
  </div>

  <div class="input-group buttons">
    <button class="main-btn" onclick="addRoom()" name="addRoom">+ Add Room</button>
    <button class="main-btn" onclick="clearAll()" name="clearAll">Clear All</button>
    <button class="main-btn" onclick="resetDefaults()" name="resetDefaults">Reset Defaults</button>
    <button class="main-btn" onclick="exportPDF()" name="exportPDF">Export PDF</button>
  </div>

  <div class="room-card">
    <label class="input-label" for="labor">Labor Charge per sq.ft:</label>
    <input type="number" name="laborCharge" id="labor" value="20" step="0.01">

    <label class="input-label" for="tax">GST (%):</label>
    <input type="number" name="gstPercent" id="tax" value="18" step="0.01">

    <label class="input-label" for="coverage">Paint Coverage per Liter (sq.ft):</label>
    <input type="number" name="paintCoveragePerLiter" id="coverage" value="100" step="0.01">
  </div>

  <div id="result" class="result">Total Painting Cost: 0</div>
  <div id="totalLiters" class="result">Total Liters Needed: 0</div>
  <footer id="footer">¬© PaintUp 2025</footer>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
// Dark/Light mode toggle
const themeToggle = document.getElementById('themeToggle');
themeToggle.addEventListener('change', () => {
  document.body.dataset.theme = themeToggle.checked ? 'dark' : 'light';
});

// Add room
function addRoom(){
  const container = document.getElementById('roomsContainer');
  const room = document.createElement('div');
  room.className = 'room-card';
  room.innerHTML = `
    <button class="delete-btn" onclick="deleteRoom(this)" name="deleteRoomBtn">Delete</button>

    <label class="input-label" for="roomArea">Area:</label>
    <input type="number" name="roomArea" class="area" step="0.01" min="0">

    <label class="input-label" for="roomDiscount">Discount (%):</label>
    <input type="number" name="roomDiscount" class="discount" value="0" step="0.01" min="0" max="100">

    <label class="input-label" for="roomPaintType">Paint Type:</label>
    <select name="roomPaintType" class="paintTypeRoom">
      <option value="50">Standard</option>
      <option value="80">Premium</option>
      <option value="120">Luxury</option>
    </select>

    <span class="roomLiters" name="roomLiters">Liters Needed: 0</span>
    <span class="roomTotal" name="roomTotal">Room Cost: 0</span>
  `;
  container.appendChild(room);
}

// Delete room
function deleteRoom(btn){
  btn.parentElement.remove();
  calculateCost();
}

// Clear all inputs
function clearAll(){
  document.querySelectorAll('.area').forEach(i=>i.value=0);
  document.querySelectorAll('.discount').forEach(i=>i.value=0);
  document.querySelectorAll('.paintTypeRoom').forEach(i=>i.value='50');
  document.getElementById('labor').value=0;
  document.getElementById('tax').value=0;
  document.getElementById('coverage').value=0;
  calculateCost();
}

// Reset defaults
function resetDefaults(){
  document.querySelectorAll('.area').forEach(i=>i.value=0);
  document.querySelectorAll('.discount').forEach(i=>i.value=0);
  document.querySelectorAll('.paintTypeRoom').forEach(i=>i.value='50');
  document.getElementById('labor').value = 20;
  document.getElementById('tax').value = 18;
  document.getElementById('coverage').value = 100;
  calculateCost();
}

// Calculate total cost, liters per room, total liters
function calculateCost(){
  const labor = parseFloat(document.getElementById('labor').value) || 0;
  const gst = parseFloat(document.getElementById('tax').value) || 0;
  const coverage = parseFloat(document.getElementById('coverage').value) || 1;

  let total = 0;
  let totalLiters = 0;

  document.querySelectorAll('#roomsContainer .room-card').forEach(room=>{
    const area = parseFloat(room.querySelector('.area').value) || 0;
    const discount = parseFloat(room.querySelector('.discount').value) || 0;
    const paintCost = parseFloat(room.querySelector('.paintTypeRoom').value) || 0;

    const litersNeeded = area / coverage;
    totalLiters += litersNeeded;

    let roomCost = (litersNeeded * paintCost) + (area * labor);
    roomCost -= roomCost * (discount/100);
    total += roomCost;

    const roomTotalSpan = room.querySelector('.roomTotal');
    if(roomTotalSpan) roomTotalSpan.innerText = 'Room Cost: ' + roomCost.toFixed(2);

    const roomLitersSpan = room.querySelector('.roomLiters');
    if(roomLitersSpan) roomLitersSpan.innerText = 'Liters Needed: ' + litersNeeded.toFixed(2);
  });

  total += total * (gst/100);

  document.getElementById('result').innerText = 'Total Painting Cost: ' + total.toFixed(2);
  document.getElementById('totalLiters').innerText = 'Total Liters Needed: ' + totalLiters.toFixed(2);
}

// Recalculate on input change
document.addEventListener('input', calculateCost);

// Export PDF
function exportPDF(){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  doc.text(document.getElementById('appTitle').innerText, 10, 10);
  document.querySelectorAll('#roomsContainer .room-card').forEach((room, i)=>{
    const area = room.querySelector('.area').value;
    const discount = room.querySelector('.discount').value;
    const paint = room.querySelector('.paintTypeRoom').value;
    const liters = room.querySelector('.roomLiters').innerText;
    const cost = room.querySelector('.roomTotal').innerText;
    doc.text(`Room ${i+1}: Area=${area}, Discount=${discount}, PaintType=${paint}, ${liters}, ${cost}`, 10, 20+(i*10));
  });
  doc.text(document.getElementById('result').innerText, 10, 30+(document.querySelectorAll('#roomsContainer .room-card').length*10));
  doc.text(document.getElementById('totalLiters').innerText, 10, 35+(document.querySelectorAll('#roomsContainer .room-card').length*10));
  doc.save('PaintUp_Cost.pdf');
}
</script>
</body>
</html>
